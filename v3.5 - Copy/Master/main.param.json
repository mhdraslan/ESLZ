{
    "$schema": "https://schema.management.azure.com/schemas/2019-08-01/tenantDeploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "deploymentLocation": {
            "value":"uaenorth"
        },
        "subscriptions":{
            "value":{
                "connectivity": {
                    "id":  "5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                    "Name": "Connectivity"
                },
                "identity": {
                    "id": "5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                    "Name": "Identity"
                },
                "management": {
                    "id": "5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                    "Name": "Management"
                },
                "security": {
                    "id": "5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                    "Name": "Security"
                }
            }
        },
        "connectivityLzSettings":{
            "value":{
                "build":false,
                "lzName":"Connectivity",
                "resourceGroups":{
                    "rgSettings":[
                        // ADD RESOURCE GROUP SECTIONS BELOW
                        {
                            "rgName":"cnt-aen-privatednszones-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-network-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-monitor-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-sharedservices-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-remoteaccess-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-appgw-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-recovery-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-security-rg",
                            "rgLocation":"UAENorth"
                        }
                    ]
                },
                "vnets":{
                    "vnetSettings":[
                        {
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetAddressSpace":["10.52.0.0/22"],
                            "vNetDnsServers":["10.52.48.4","10.52.48.5"],
                            "rgName":"cnt-aen-network-rg"
                        }
                    ],
                    "peeringSettings":[]
                },
                "routes":{
                    "udrTables":[
                        /* DO NOT DELETE - UDR TABLE TEMPLATE
                        {
                            "routeTableName":"cnt-aen-spoke-rt",
                            "rgName":"cnt-aen-network-rg"
                        }
                        */                    
                        {
                            "routeTableName":"cnt-aen-spoke-rt",
                            "rgName":"cnt-aen-network-rg"
                        },
                        {
                            "routeTableName":"cnt-aen-hub-gateway-rt",
                            "rgName":"cnt-aen-network-rg"
                        },
                        {
                            "routeTableName":"cnt-aen-hub-appgw-rt",
                            "rgName":"cnt-aen-network-rg"
                        }
                    ],
                    "udrSettings":[
                        /* DO NOT DELETE - UDR ENTRY TEMPLATE
                        {
                            "routeEntryName":"default-gateway",
                            "routeEntryAddressPrefix":"10.0.0.0/24",
                            "routeEntryType":"VirtualAppliance", //Allowed values: VirtualAppliance, None, Internet, VirtualNetworkGateway
                            "routeEntryNextHopIPAddress":"10.200.0.196",
                            "routeTableName":"cnt-aen-connectivity-gateway-udr"
                        }
                        */
                        {
                            "routeEntryName":"default-gateway",
                            "routeEntryAddressPrefix":"0.0.0.0/0",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-spoke-rt"
                        },
                        {
                            "routeEntryName":"default-gateway",
                            "routeEntryAddressPrefix":"0.0.0.0/0",
                            "routeEntryType":"Internet",
                            "routeEntryNextHopIPAddress":"",
                            "routeTableName":"cnt-aen-hub-appgw-rt"
                        },
                        {
                            "routeEntryName":"to-azure",
                            "routeEntryAddressPrefix":"10.52.0.0/16",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-hub-appgw-rt"
                        },
                        {
                            "routeEntryName":"identity-vnet",
                            "routeEntryAddressPrefix":"10.52.48.0/26",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-hub-gateway-rt"
                        },
                        {
                            "routeEntryName":"cloudpc-20-vnet",
                            "routeEntryAddressPrefix":"10.52.20.0/22",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-hub-gateway-rt"
                        },
                        {
                            "routeEntryName":"cloudpc-24-vnet",
                            "routeEntryAddressPrefix":"10.52.24.0/22",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-hub-gateway-rt"
                        },
                        {
                            "routeEntryName":"cloudpc-28-vnet",
                            "routeEntryAddressPrefix":"10.52.28.0/22",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-hub-gateway-rt"
                        }
                    ]
                },
                "subnets":{
                    "subnetSettings":[
                        /* DO NOT DELETE - SUBNET TEMPLATE
                        {
                            "subnetName":"AzureFirewallSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.200.1.192/26",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"",
                            "udrRg":"",
                            "createNsg":false
                        }                    
                        */
                        {
                            "subnetName":"AzureFirewallSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.52.1.192/26",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"",
                            "udrRg":"",
                            "createNsg":false
                        },
                        {
                            "subnetName":"GatewaySubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.52.1.0/26",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"cnt-aen-hub-gateway-rt",
                            "udrRg":"cnt-aen-network-rg",
                            "createNsg":false
                        },
                        {
                            "subnetName":"AzureBastionSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.52.1.64/26",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"",
                            "udrRg":"",
                            "createNsg":false
                        },
                        {
                            "subnetName":"SharedServiceSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.52.1.128/26",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"cnt-aen-spoke-rt",
                            "udrRg":"cnt-aen-network-rg",
                            "createNsg":true
                        },
                        {
                            "subnetName":"PrivateEndpointSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.52.2.0/24",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"cnt-aen-spoke-rt",
                            "udrRg":"cnt-aen-network-rg",
                            "createNsg":true
                        },
                        {
                            "subnetName":"AppGwSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.52.3.0/24",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"cnt-aen-hub-appgw-rt",
                            "udrRg":"cnt-aen-network-rg",
                            "createNsg":false
                        }
                    ]
                },
                "windowsVMs":{
                    "vmSettings":[
                        /* DO NOT DELETE. WINDOWS VM TEMPLATE
                        {
                            "vmName":"aenpdns01",
                            "rgName":"cnt-aen-sharedservices-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"microsoftwindowsserver",
                            "osOffer":"windowsserver",
                            "osSku":"2022-datacenter-g2",
                            "vmSize":"Standard_B2s",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        */
                        {
                            "vmName":"az-srv-dns-01",
                            "rgName":"cnt-aen-network-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"microsoftwindowsserver",
                            "osOffer":"windowsserver",
                            "osSku":"2022-datacenter-g2",
                            "vmSize":"Standard_D2s_v5",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        {
                            "vmName":"az-srv-dns-02",
                            "rgName":"cnt-aen-network-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["2"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"microsoftwindowsserver",
                            "osOffer":"windowsserver",
                            "osSku":"2022-datacenter-g2",
                            "vmSize":"Standard_D2s_v5",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        }
                    ]
                },
                "linuxVMs":{
                    "vmSettings":[
                        /* DO NOT DELETE. LINUX VM TEMPLATE
                        {
                            "vmName":"aenpdns01",
                            "rgName":"cnt-aen-sharedservices-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"Canonical",
                            "osOffer":"0001-com-ubuntu-server-jammy",
                            "osSku":"22_04-lts-gen2",
                            "vmSize":"Standard_B2s",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        */
                    ]
                },
                "azFirewall": {
                    "buildAzFirewall":true,
                    "name":"cnt-aen-hub-afw",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vnetResourceGroupName":"cnt-aen-network-rg", //Az Firewall must be in same resource group as VNet
                    "publicIpName":"cnt-aen-hub-afw-pip-01",
                    "tier":"Premium"
                },
                "azBastion": {
                    "buildAzBastion":true,
                    "name":"cnt-aen-hub-bast",
                    "rgName":"cnt-aen-network-rg",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vNetResourceGroup":"cnt-aen-network-rg",
                    "sku":"Standard",
                    "bastionPublicIpName":"cnt-aen-hub-bast-pip-01",
                    "disableCopyPaste":false,
                    "enableFileCopy":true,
                    "enableIpConnect":true,
                    "enableShareableLink":true,
                    "enableTunneling":false
                },
                "azVpnGateway": {
                    "buildVpnGateway":false,
                    "name":"cnt-aen-hub-vnet-gw-vpn",
                    "vpnType":"RouteBased",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vnetResourceGroupName":"cnt-aen-network-rg",
                    "gatewaySku":"VpnGw1AZ",
                    "localGatewayName":"dewa-aen-prd-plt-onprem-lgw-01",
                    "localGatewayIpAddress":"8.8.8.8",
                    "localAddressPrefix":["10.0.0.0/8"],
                    "gatewayPublicIpName":"cnt-aen-hub-vnet-gw-vpn-pip-01"
                },
                "azAppGatewayV2": {
                    "settings":[
                        {
                            "build":true,
                            "name":"cnt-aen-hub-appgw-01",
                            "rgName":"cnt-aen-appgw-rg",
                            "gwTier":"WAF_v2",
                            "vnetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"AppGwSubnet",
                            "privateIp":"10.52.3.4",
                            "publicIpName":"cnt-aen-hub-appgw-01-pip-01",
                            "publicIpSku":"Standard",
                            "allocationMethod":"Static",
                            "capacity":1,
                            "autoScaleMaxCapacity":2
                        }
                    ]
                },
                "privateDnsZones": {
                    "build":true,
                    "rgName":"cnt-aen-privatednszones-rg",
                    "regions":[
                        "uaenorth",
                        "eastus"
                    ]
                }
            }
        },
        "identityLzSettings":{
            "value":{
                "build":true,
                "lzName":"Identity",
                "resourceGroups":{
                    "rgSettings":[
                        // ADD RESOURCE GROUP SECTIONS BELOW
                        {
                            "rgName":"cnt-aen-network-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-monitor-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-recovery-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-security-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-dcs-rg",
                            "rgLocation":"UAENorth"
                        }
                    ]
                },
                "vnets":{
                    "vnetSettings":[
                        {
                            "vNetName":"cnt-aen-identity-vnet",
                            "vNetAddressSpace":["10.52.48.0/26"],
                            "vNetDnsServers":["10.52.48.4","10.52.48.5"],
                            "rgName":"cnt-aen-network-rg"
                        }
                    ],
                    "peeringSettings":[
                        /* DO NOT DELETE. PEERING TEMPLATE
                        {
                            "sourceVnetName":"cnt-aen-identity-vnet",
                            "sourceVnetSubscriptionId":"[parameters('subscriptions').identity.id]",
                            "sourceVnetResourceGroup":"cnt-aen-connectivity-rg",
                            "remoteVnetName":"cnt-aen-hub-vnet",
                            "remoteVNetSubscriptionId":"[parameters('subscriptions').connectivity.id]",
                            "remoteVNetResourceGroup":"cnt-aen-connectivity-rg",
                            "sourceVnetPeeringAllowForwardedTraffic":true,
                            "sourceVnetPeeringAllowGatewayTransit":false,
                            "sourceVnetPeeringUseRemoteGateways":true,
                            "remoteVnetPeeringAllowForwardedTraffic":false,
                            "remoteVnetPeeringAllowGatewayTransit":false,
                            "remoteVnetPeeringUseRemoteGateways":false,
                            "sourcePeeringName": "", // Leave empty to use default naming
                            "remotePeeringName": ""  // Leave empty to use default naming
                        }
                        */
                        {
                            "sourceVnetName":"cnt-aen-identity-vnet",
                            "sourceVnetSubscriptionId":"5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                            "sourceVnetResourceGroup":"cnt-aen-network-rg",
                            "remoteVnetName":"cnt-aen-hub-vnet",
                            "remoteVNetSubscriptionId":"5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                            "remoteVNetResourceGroup":"cnt-aen-network-rg",
                            "sourceVnetPeeringAllowForwardedTraffic":true,
                            "sourceVnetPeeringAllowGatewayTransit":false,
                            "sourceVnetPeeringUseRemoteGateways":false,
                            "remoteVnetPeeringAllowForwardedTraffic":false,
                            "remoteVnetPeeringAllowGatewayTransit":false,
                            "remoteVnetPeeringUseRemoteGateways":false,
                            "sourcePeeringName": "cnt-identity-hub",
                            "remotePeeringName": "cnt-aen-hub-identity"
                        }
                    ]
                },
                "routes":{
                    "udrTables":[
                        /* DO NOT DELETE - UDR TABLE TEMPLATE
                        {
                            "routeTableName":"cnt-aen-spoke-rt",
                            "rgName":"cnt-aen-network-rg"
                        }
                        */                    
                        {
                            "routeTableName":"cnt-aen-spoke-rt",
                            "rgName":"cnt-aen-network-rg"
                        }
                    ],
                    "udrSettings":[
                        /* DO NOT DELETE - UDR ENTRY TEMPLATE
                        {
                            "routeEntryName":"default-gateway",
                            "routeEntryAddressPrefix":"10.0.0.0/24",
                            "routeEntryType":"VirtualAppliance", //Allowed values: VirtualAppliance, None, Internet, VirtualNetworkGateway
                            "routeEntryNextHopIPAddress":"10.200.0.196",
                            "routeTableName":"cnt-aen-connectivity-gateway-udr"
                        }
                        */
                        {
                            "routeEntryName":"default-gateway",
                            "routeEntryAddressPrefix":"0.0.0.0/0",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-spoke-rt"
                        }
                    ]
                },
                "subnets":{
                    "subnetSettings":[
                        /* DO NOT DELETE - SUBNET TEMPLATE
                        {
                            "subnetName":"AzureFirewallSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.200.1.192/26",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"",
                            "udrRg":"",
                            "createNsg":false
                        }                    
                        */
                        {
                            "subnetName":"DCsSubnet",
                            "vNetName":"cnt-aen-identity-vnet",
                            "subnetAddress":"10.52.48.0/28",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"cnt-aen-spoke-rt",
                            "udrRg":"cnt-aen-network-rg",
                            "createNsg":true
                        }
                    ]
                },
                "windowsVMs":{
                    "vmSettings":[
                        /* DO NOT DELETE. WINDOWS VM TEMPLATE
                        {
                            "vmName":"aenpdns01",
                            "rgName":"cnt-aen-sharedservices-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"microsoftwindowsserver",
                            "osOffer":"windowsserver",
                            "osSku":"2022-datacenter-g2",
                            "vmSize":"Standard_B2s",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        */
                        {
                            "vmName":"az-srv-dc-01",
                            "rgName":"cnt-aen-dcs-rg",
                            "vNetName":"cnt-aen-identity-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"DCsSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"microsoftwindowsserver",
                            "osOffer":"windowsserver",
                            "osSku":"2022-datacenter-g2",
                            "vmSize":"Standard_D2s_v5",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        {
                            "vmName":"az-srv-dc-02",
                            "rgName":"cnt-aen-dcs-rg",
                            "vNetName":"cnt-aen-identity-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"DCsSubnet",
                            "vmZones":["2"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"microsoftwindowsserver",
                            "osOffer":"windowsserver",
                            "osSku":"2022-datacenter-g2",
                            "vmSize":"Standard_D2s_v5",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        }
                    ]
                },
                "linuxVMs":{
                    "vmSettings":[
                        /* DO NOT DELETE. LINUX VM TEMPLATE
                        {
                            "vmName":"aenpdns01",
                            "rgName":"cnt-aen-sharedservices-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"Canonical",
                            "osOffer":"0001-com-ubuntu-server-jammy",
                            "osSku":"22_04-lts-gen2",
                            "vmSize":"Standard_B2s",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        */
                    ]
                },
                "azFirewall": {
                    "buildAzFirewall":false,
                    "name":"cnt-aen-hub-afw",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vnetResourceGroupName":"cnt-aen-network-rg", //Az Firewall must be in same resource group as VNet
                    "publicIpName":"cnt-aen-hub-afw-pip-01",
                    "tier":"Premium"
                },
                "azBastion": {
                    "buildAzBastion":false,
                    "name":"cnt-aen-hub-bast",
                    "rgName":"cnt-aen-network-rg",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vNetResourceGroup":"cnt-aen-network-rg",
                    "sku":"Standard",
                    "bastionPublicIpName":"cnt-aen-hub-bast-pip-01",
                    "disableCopyPaste":false,
                    "enableFileCopy":true,
                    "enableIpConnect":true,
                    "enableShareableLink":true,
                    "enableTunneling":false
                },
                "azVpnGateway": {
                    "buildVpnGateway":false,
                    "name":"cnt-aen-hub-vnet-gw-vpn",
                    "vpnType":"RouteBased",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vnetResourceGroupName":"cnt-aen-network-rg",
                    "gatewaySku":"VpnGw1AZ",
                    "localGatewayName":"dewa-aen-prd-plt-onprem-lgw-01",
                    "localGatewayIpAddress":"8.8.8.8",
                    "localAddressPrefix":["10.0.0.0/8"],
                    "gatewayPublicIpName":"cnt-aen-hub-vnet-gw-vpn-pip-01"
                },
                "azAppGatewayV2": {
                    "settings":[
                        {
                            "build":false,
                            "name":"cnt-aen-hub-appgw-01",
                            "rgName":"cnt-aen-appgw-rg",
                            "gwTier":"WAF_v2",
                            "vnetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"AppGwSubnet",
                            "privateIp":"10.52.3.4",
                            "publicIpName":"cnt-aen-hub-appgw-01-pip-01",
                            "publicIpSku":"Standard",
                            "allocationMethod":"Static",
                            "capacity":1,
                            "autoScaleMaxCapacity":2
                        }
                    ]
                },
                "privateDnsZones": {
                    "build":true,
                    "rgName":"cnt-aen-privatednszones-rg",
                    "regions":[
                        "uaenorth",
                        "eastus"
                    ]
                }
            }
        },
        "managementLzSettings":{
            "value":{
                "build":true,
                "lzName":"Management",
                "resourceGroups":{
                    "rgSettings":[
                        // ADD RESOURCE GROUP SECTIONS BELOW
                        {
                            "rgName":"cnt-aen-network-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-monitor-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-recovery-rg",
                            "rgLocation":"UAENorth"
                        },
                        {
                            "rgName":"cnt-aen-security-rg",
                            "rgLocation":"UAENorth"
                        }
                    ]
                },
                "vnets":{
                    "vnetSettings":[
                        {
                            "vNetName":"cnt-aen-mgmt-vnet",
                            "vNetAddressSpace":["10.52.63.192/26"],
                            "vNetDnsServers":["10.52.1.132","10.52.1.133"],
                            "rgName":"cnt-aen-network-rg"
                        }
                    ],
                    "peeringSettings":[
                        /* DO NOT DELETE. PEERING TEMPLATE
                        {
                            "sourceVnetName":"cnt-aen-identity-vnet",
                            "sourceVnetSubscriptionId":"[parameters('subscriptions').identity.id]",
                            "sourceVnetResourceGroup":"cnt-aen-connectivity-rg",
                            "remoteVnetName":"cnt-aen-hub-vnet",
                            "remoteVNetSubscriptionId":"[parameters('subscriptions').connectivity.id]",
                            "remoteVNetResourceGroup":"cnt-aen-connectivity-rg",
                            "sourceVnetPeeringAllowForwardedTraffic":true,
                            "sourceVnetPeeringAllowGatewayTransit":false,
                            "sourceVnetPeeringUseRemoteGateways":true,
                            "remoteVnetPeeringAllowForwardedTraffic":false,
                            "remoteVnetPeeringAllowGatewayTransit":false,
                            "remoteVnetPeeringUseRemoteGateways":false,
                            "sourcePeeringName": "", // Leave empty to use default naming
                            "remotePeeringName": ""  // Leave empty to use default naming
                        }
                        */
                        {
                            "sourceVnetName":"cnt-aen-mgmt-vnet",
                            "sourceVnetSubscriptionId":"5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                            "sourceVnetResourceGroup":"cnt-aen-network-rg",
                            "remoteVnetName":"cnt-aen-hub-vnet",
                            "remoteVNetSubscriptionId":"5fe2c881-8871-4546-bc4e-07a2e40dbe9e",
                            "remoteVNetResourceGroup":"cnt-aen-network-rg",
                            "sourceVnetPeeringAllowForwardedTraffic":true,
                            "sourceVnetPeeringAllowGatewayTransit":false,
                            "sourceVnetPeeringUseRemoteGateways":false,
                            "remoteVnetPeeringAllowForwardedTraffic":false,
                            "remoteVnetPeeringAllowGatewayTransit":false,
                            "remoteVnetPeeringUseRemoteGateways":false,
                            "sourcePeeringName": "cnt-mgmt-hub",
                            "remotePeeringName": "cnt-aen-hub-mgmt"
                        }
                    ]
                },
                "routes":{
                    "udrTables":[
                        /* DO NOT DELETE - UDR TABLE TEMPLATE
                        {
                            "routeTableName":"cnt-aen-spoke-rt",
                            "rgName":"cnt-aen-network-rg"
                        }
                        */                    
                        {
                            "routeTableName":"cnt-aen-spoke-rt",
                            "rgName":"cnt-aen-network-rg"
                        }
                    ],
                    "udrSettings":[
                        /* DO NOT DELETE - UDR ENTRY TEMPLATE
                        {
                            "routeEntryName":"default-gateway",
                            "routeEntryAddressPrefix":"10.0.0.0/24",
                            "routeEntryType":"VirtualAppliance", //Allowed values: VirtualAppliance, None, Internet, VirtualNetworkGateway
                            "routeEntryNextHopIPAddress":"10.200.0.196",
                            "routeTableName":"cnt-aen-connectivity-gateway-udr"
                        }
                        */
                        {
                            "routeEntryName":"default-gateway",
                            "routeEntryAddressPrefix":"0.0.0.0/0",
                            "routeEntryType":"VirtualAppliance",
                            "routeEntryNextHopIPAddress":"10.52.1.196",
                            "routeTableName":"cnt-aen-spoke-rt"
                        }
                    ]
                },
                "subnets":{
                    "subnetSettings":[
                        /* DO NOT DELETE - SUBNET TEMPLATE
                        {
                            "subnetName":"AzureFirewallSubnet",
                            "vNetName":"cnt-aen-hub-vnet",
                            "subnetAddress":"10.200.1.192/26",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"",
                            "udrRg":"",
                            "createNsg":false
                        }                    
                        */
                        {
                            "subnetName":"mgmt1Subnet",
                            "vNetName":"cnt-aen-mgmt-vnet",
                            "subnetAddress":"10.52.63.192/28",
                            "rgName":"cnt-aen-network-rg",
                            "udr":"cnt-aen-spoke-rt",
                            "udrRg":"cnt-aen-network-rg",
                            "createNsg":true
                        }
                    ]
                },
                "windowsVMs":{
                    "vmSettings":[
                        /* DO NOT DELETE. WINDOWS VM TEMPLATE
                        {
                            "vmName":"aenpdns01",
                            "rgName":"cnt-aen-sharedservices-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"microsoftwindowsserver",
                            "osOffer":"windowsserver",
                            "osSku":"2022-datacenter-g2",
                            "vmSize":"Standard_B2s",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        */

                    ]
                },
                "linuxVMs":{
                    "vmSettings":[
                        /* DO NOT DELETE. LINUX VM TEMPLATE
                        {
                            "vmName":"aenpdns01",
                            "rgName":"cnt-aen-sharedservices-rg",
                            "vNetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"SharedServiceSubnet",
                            "vmZones":["1"],
                            "osDiskType":"StandardSSD_LRS",
                            "osPublisher":"Canonical",
                            "osOffer":"0001-com-ubuntu-server-jammy",
                            "osSku":"22_04-lts-gen2",
                            "vmSize":"Standard_B2s",
                            "adminUsername":"localadmin",
                            "adminPassword":"Pa$$w0rd123*"
                        },
                        */
                    ]
                },
                "azFirewall": {
                    "buildAzFirewall":false,
                    "name":"cnt-aen-hub-afw",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vnetResourceGroupName":"cnt-aen-network-rg", //Az Firewall must be in same resource group as VNet
                    "publicIpName":"cnt-aen-hub-afw-pip-01",
                    "tier":"Premium"
                },
                "azBastion": {
                    "buildAzBastion":false,
                    "name":"cnt-aen-hub-bast",
                    "rgName":"cnt-aen-network-rg",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vNetResourceGroup":"cnt-aen-network-rg",
                    "sku":"Standard",
                    "bastionPublicIpName":"cnt-aen-hub-bast-pip-01",
                    "disableCopyPaste":false,
                    "enableFileCopy":true,
                    "enableIpConnect":true,
                    "enableShareableLink":true,
                    "enableTunneling":false
                },
                "azVpnGateway": {
                    "buildVpnGateway":false,
                    "name":"cnt-aen-hub-vnet-gw-vpn",
                    "vpnType":"RouteBased",
                    "vnetName":"cnt-aen-hub-vnet",
                    "vnetResourceGroupName":"cnt-aen-network-rg",
                    "gatewaySku":"VpnGw1AZ",
                    "localGatewayName":"dewa-aen-prd-plt-onprem-lgw-01",
                    "localGatewayIpAddress":"8.8.8.8",
                    "localAddressPrefix":["10.0.0.0/8"],
                    "gatewayPublicIpName":"cnt-aen-hub-vnet-gw-vpn-pip-01"
                },
                "azAppGatewayV2": {
                    "settings":[
                        {
                            "build":false,
                            "name":"cnt-aen-hub-appgw-01",
                            "rgName":"cnt-aen-appgw-rg",
                            "gwTier":"WAF_v2",
                            "vnetName":"cnt-aen-hub-vnet",
                            "vNetResourceGroup":"cnt-aen-network-rg",
                            "subnetName":"AppGwSubnet",
                            "privateIp":"10.52.3.4",
                            "publicIpName":"cnt-aen-hub-appgw-01-pip-01",
                            "publicIpSku":"Standard",
                            "allocationMethod":"Static",
                            "capacity":1,
                            "autoScaleMaxCapacity":2
                        }
                    ]
                },
                "privateDnsZones": {
                    "build":false,
                    "rgName":"",
                    "regions":[]
                }
            }
        },
        "securityLzSettings": {
            "value":{
                "build":false,
                "lzName":"Security"
            }
        }
    },
    "functions": [],
    "variables": {},
    "resources": [],
    "outputs": {
        
    }
}